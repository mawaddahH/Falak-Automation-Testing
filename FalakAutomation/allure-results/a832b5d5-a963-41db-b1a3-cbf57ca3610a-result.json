{"uuid":"a832b5d5-a963-41db-b1a3-cbf57ca3610a","historyId":"6b7b107f4f5b3c7c7686e7083f5634f5","fullName":"com.falak.qa.tests.NGramsToolTC.TC12_verifyExportWithApiParity","labels":[{"name":"package","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"testClass","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"testMethod","value":"TC12_verifyExportWithApiParity"},{"name":"parentSuite","value":"MySuite"},{"name":"suite","value":"MainTests"},{"name":"subSuite","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"host","value":"MwdWo"},{"name":"thread","value":"18252@MwdWo.main(1)"},{"name":"framework","value":"testng"},{"name":"language","value":"java"},{"name":"story","value":"User exports search results in the Concordancer tool and results match API"},{"name":"epic","value":"أداة التتابعات اللَّفظيَّة | N-grams Tool"},{"name":"feature","value":"التحقق من عناصر الواجهة الأساسية"},{"name":"severity","value":"critical"}],"links":[],"name":"TC-12 | Export downloads file and UI results match API results for the same search","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","description":"    Test Objective:\n    1) Verify that UI search results are consistent with API search results for the same query.\n    2) Verify that clicking the export button downloads a results file locally.\n\n    Steps:\n    1. Open 'المدونات' and navigate directly to the Concordancer tool URL.\n    2. Type a word using the virtual keyboard.\n    3. Click Search and wait for results (or 'no data' message).\n    4. If results exist:\n        a) Collect UI results (first column).\n        b) Call API with the same filters/query.\n        c) Assert UI ⊆ API.\n    5. Click the export icon.\n    6. Assert a file is downloaded and size > 0.\n    Expected Result:\n    - UI results are a subset of API results for the same query.\n    - A file is downloaded successfully after clicking export.\n","steps":[{"name":"\uD83C\uDF10 Retrieved URL for [baseUrl]: https://falak.ksaa.gov.sa/","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096707573,"stop":1756096707573},{"name":"\uD83D\uDD17 Built tool URL: https://falak.ksaa.gov.sa/ngrams/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096707573,"stop":1756096707573},{"name":"✅ Opened direct tool URL: https://falak.ksaa.gov.sa/ngrams/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096708658,"stop":1756096708658},{"name":"✅ Tool loading API responded: 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709018,"stop":1756096709018},{"name":"\uD83D\uDCE5 Page fully ready for interaction","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709018,"stop":1756096709018},{"name":"\uD83D\uDCE5 Page loaded successfully","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709018,"stop":1756096709018},{"name":"\uD83D\uDD0D Set 'Ends With' filter to: السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709285,"stop":1756096709285},{"name":"✅ Triage events cleared","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709285,"stop":1756096709285},{"name":"✅ Armed with 1 URL regex filter(s)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709288,"stop":1756096709288},{"name":"\uD83E\uDDED Scrolled to element: [[ChromeDriver: chrome on windows (a8c5e569e4e9ee86428b65200cacb384)] -> xpath: //button[@type='submit' and .//span[normalize-space()='بحث']]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709370,"stop":1756096709370},{"name":"✅ Clicked on element using JavaScript: By.xpath: //button[@type='submit' and .//span[normalize-space()='بحث']]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709419,"stop":1756096709419},{"name":"\uD83D\uDD0E Clicked on search button","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709419,"stop":1756096709419},{"name":"ℹ️ No error events recorded","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096709420,"stop":1756096709420},{"name":"ℹ️ No error events recorded","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096740249,"stop":1756096740249},{"name":"\uD83D\uDD0E First-column sentences count: 10","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096740414,"stop":1756096740414},{"name":"\uD83D\uDCCA UI results collected: 10","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096740414,"stop":1756096740414},{"name":"✅ Extracted toolId: babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096740414,"stop":1756096740414},{"name":"✅ NGram results list set successfully (size: 1000)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096765224,"stop":1756096765224},{"name":"✅ Total records set to: 1000","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096765224,"stop":1756096765224},{"name":"\uD83D\uDCC4 Fetched page: 0 | \uD83D\uDD24 First word: في السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096765224,"stop":1756096765224},{"name":"✅ NGram results list set successfully (size: 1000)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789978,"stop":1756096789978},{"name":"✅ Total records set to: 1000","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789978,"stop":1756096789978},{"name":"⚠️ Duplicate first word detected: في السيارة. Stopping.","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789978,"stop":1756096789978},{"name":"\uD83D\uDCE6 Total N-Gram results fetched: 1000","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789978,"stop":1756096789978},{"name":"\uD83C\uDF10 API results collected: 1000","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789978,"stop":1756096789978},{"name":"✅ Verified UI results are a subset of API results","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789983,"stop":1756096789983},{"name":"\uD83D\uDD39 API: في السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: من السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: إلى السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: هذه السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: الكواكب السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: باب السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: قيادة السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: كانت السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: داخل السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: على السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: سائق السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: محرك السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: أن السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: توقفت السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: بعض السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: تلك السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: يقود السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: نافذة السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: أو السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83D\uDD39 API: الصحف السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096789989,"stop":1756096789989},{"name":"\uD83E\uDDED Scrolled to element: [[ChromeDriver: chrome on windows (a8c5e569e4e9ee86428b65200cacb384)] -> xpath: //div[contains(@class,'grid')] //button[@ptooltip='تصدير' and .//img[contains(@src,'icon-export')]]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096790126,"stop":1756096790126},{"name":"✅ Clicked on element: By.xpath: //div[contains(@class,'grid')] //button[@ptooltip='تصدير' and .//img[contains(@src,'icon-export')]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096790207,"stop":1756096790207},{"name":"\uD83D\uDCE5 Clicked export button","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096790207,"stop":1756096790207},{"name":"✅ Exported file downloaded successfully","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096790216,"stop":1756096790216},{"name":"\uD83D\uDCE5 تم تحميل ملف الإعدادات بنجاح من config.properties","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096790216,"stop":1756096790216}],"attachments":[{"name":"خطأ في BasePage - waitForElement","source":"8f399a6a-c55b-43d9-a38b-d5154a414b10-attachment.txt","type":"text/plain"}],"parameters":[],"start":1756096707573,"stop":1756096790216}