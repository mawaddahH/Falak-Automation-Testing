{"uuid":"076ab8f2-eb21-4540-a734-da2bb8338506","historyId":"90c4734697f6a775bc1f17940353b925","fullName":"com.falak.qa.tests.NGramsToolTC.TC13_verifyExcludePunctuationFilter","labels":[{"name":"package","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"testClass","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"testMethod","value":"TC13_verifyExcludePunctuationFilter"},{"name":"parentSuite","value":"MySuite"},{"name":"suite","value":"MainTests"},{"name":"subSuite","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"host","value":"MwdWo"},{"name":"thread","value":"18252@MwdWo.main(1)"},{"name":"framework","value":"testng"},{"name":"language","value":"java"},{"name":"story","value":"User enables 'Exclude Punctuation' and searches with noisy input"},{"name":"epic","value":"أداة التتابعات اللَّفظيَّة | N-grams Tool"},{"name":"feature","value":"التحقق من عناصر الواجهة الأساسية"},{"name":"severity","value":"normal"}],"links":[],"name":"TC-13 | Verify that exclude-punctuation filter works correctly in UI and API","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"الخدمة أعادت خطأ شبكة: status=500 url=https://falak.ksaa.gov.sa/api/tools/ngram/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1?n=2&limit=1000&pageNumber=0&minFreq=2&maxFreq=500000&excludeWords=&containWords=&startWithWords=&endWithWords=%D8%A7%D9%84%D8%B3%D9%8A%D8%A7%D8%B1%D8%A9&excludeRegex=true type=2212.434","trace":"java.lang.AssertionError: الخدمة أعادت خطأ شبكة: status=500 url=https://falak.ksaa.gov.sa/api/tools/ngram/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1?n=2&limit=1000&pageNumber=0&minFreq=2&maxFreq=500000&excludeWords=&containWords=&startWithWords=&endWithWords=%D8%A7%D9%84%D8%B3%D9%8A%D8%A7%D8%B1%D8%A9&excludeRegex=true type=2212.434\r\n\tat org.testng.Assert.fail(Assert.java:111)\r\n\tat com.falak.qa.tests.NGramsToolTC.TC13_verifyExcludePunctuationFilter(NGramsToolTC.java:1391)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:141)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:687)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:230)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:63)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:995)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:203)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:154)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:134)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:741)\r\n\tat org.testng.TestRunner.run(TestRunner.java:616)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:421)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:413)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:373)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:312)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1274)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1112)\r\n\tat org.testng.TestNG.run(TestNG.java:1079)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:293)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:91)\r\n"},"stage":"finished","description":"    Test Objective:\n    Verify that when 'Exclude Punctuation' is enabled and the user enters text with punctuation,\n    the results are processed cleanly (punctuation stripped) in both UI and API.\n\n    Steps:\n    1. Open the Verbal Sequences tool page.\n    2. Enable 'Exclude Punctuation' checkbox.\n    3. Enter a text containing commas/periods/symbols in the 'ينتهي' filter.\n    4. Click Search and wait for results or 'no data'.\n    5. UI: Validate normalized results (punctuation removed).\n    6. API: Call with the same query + excludePunctuation=true, then validate UI ⊆ API (after same normalization).\n","steps":[{"name":"\uD83C\uDF10 Retrieved URL for [baseUrl]: https://falak.ksaa.gov.sa/","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096796425,"stop":1756096796425},{"name":"\uD83D\uDD17 Built tool URL: https://falak.ksaa.gov.sa/ngrams/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096796425,"stop":1756096796425},{"name":"✅ Opened direct tool URL: https://falak.ksaa.gov.sa/ngrams/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096797461,"stop":1756096797461},{"name":"✅ Tool loading API responded: 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096797844,"stop":1756096797844},{"name":"\uD83D\uDCE5 Page fully ready for interaction","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096797844,"stop":1756096797844},{"name":"\uD83D\uDCE5 Page loaded successfully","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096797844,"stop":1756096797844},{"name":"\uD83D\uDD0D Set 'Ends With' filter to: السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798019,"stop":1756096798019},{"name":"\uD83E\uDDF9 'Exclude Punctuation' is now checked","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798257,"stop":1756096798257},{"name":"\uD83E\uDDF9 Enabled 'Exclude Punctuation'","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798271,"stop":1756096798271},{"name":"✅ Triage events cleared","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798271,"stop":1756096798271},{"name":"✅ Armed with 1 URL regex filter(s)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798271,"stop":1756096798271},{"name":"\uD83E\uDDED Scrolled to element: [[ChromeDriver: chrome on windows (00714e57bf7a439996f30c3733d98afc)] -> xpath: //button[@type='submit' and .//span[normalize-space()='بحث']]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798369,"stop":1756096798369},{"name":"✅ Clicked on element using JavaScript: By.xpath: //button[@type='submit' and .//span[normalize-space()='بحث']]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798426,"stop":1756096798426},{"name":"\uD83D\uDD0E Clicked on search button","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798426,"stop":1756096798426},{"name":"ℹ️ No error events recorded","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096798428,"stop":1756096798428},{"name":"✅ First error event found: RESPONSE_ERROR url=https://falak.ksaa.gov.sa/api/tools/ngram/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1?n=2&limit=1000&pageNumber=0&minFreq=2&maxFreq=500000&excludeWords=&containWords=&startWithWords=&endWithWords=%D8%A7%D9%84%D8%B3%D9%8A%D8%A7%D8%B1%D8%A9&excludeRegex=true type/reqId=2212.434 status=500 err=null len=297 at=2025-08-25T04:39:58.502248200Z","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096829300,"stop":1756096829300},{"name":"\uD83D\uDEA8 Triage error: status=500 url=https://falak.ksaa.gov.sa/api/tools/ngram/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1?n=2&limit=1000&pageNumber=0&minFreq=2&maxFreq=500000&excludeWords=&containWords=&startWithWords=&endWithWords=%D8%A7%D9%84%D8%B3%D9%8A%D8%A7%D8%B1%D8%A9&excludeRegex=true","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096829300,"stop":1756096829300},{"name":"❗ Network error captured: RESPONSE_ERROR url=https://falak.ksaa.gov.sa/api/tools/ngram/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1?n=2&limit=1000&pageNumber=0&minFreq=2&maxFreq=500000&excludeWords=&containWords=&startWithWords=&endWithWords=%D8%A7%D9%84%D8%B3%D9%8A%D8%A7%D8%B1%D8%A9&excludeRegex=true type/reqId=2212.434 status=500 err=null len=297 at=2025-08-25T04:39:58.502248200Z","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096829300,"stop":1756096829300},{"name":"\uD83D\uDED1 Recorder stopped, file finalized","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096835173,"stop":1756096835173},{"name":"\uD83D\uDCE5 تم تحميل ملف الإعدادات بنجاح من config.properties","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096835189,"stop":1756096835189}],"attachments":[{"name":"خطأ في BasePage - waitForElement","source":"cee54de7-943b-4807-8d06-fda624cbc5f5-attachment.txt","type":"text/plain"},{"name":"❗ Server/Network Error","source":"145c927e-df82-4fea-9dc3-a30cce32649a-attachment"},{"name":"\uD83D\uDD34 Exclude Punctuation - Assertion Failure","source":"80a3e3d7-0b9e-4149-a290-ecf13570b839-attachment"},{"name":"\uD83D\uDCF9 Video (on failure)","source":"5328670c-01d7-4878-b590-5cea02a5b473-attachment.mp4","type":"video/mp4"}],"parameters":[],"start":1756096796425,"stop":1756096835189}