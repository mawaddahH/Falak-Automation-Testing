{"uuid":"98ede613-fd15-4958-97cb-a357ee95ad7a","historyId":"a3ad8bd0d7c5450aac91597b884ab274","fullName":"com.falak.qa.tests.NGramsToolTC.TC14_verifyNGramsExportDownload","labels":[{"name":"package","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"testClass","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"testMethod","value":"TC14_verifyNGramsExportDownload"},{"name":"parentSuite","value":"MySuite"},{"name":"suite","value":"MainTests"},{"name":"subSuite","value":"com.falak.qa.tests.NGramsToolTC"},{"name":"host","value":"MwdWo"},{"name":"thread","value":"18252@MwdWo.main(1)"},{"name":"framework","value":"testng"},{"name":"language","value":"java"},{"name":"story","value":"User exports search results using the export button in the NGrams tool"},{"name":"epic","value":"أداة التتابعات اللَّفظيَّة | N-grams Tool"},{"name":"feature","value":"التحقق من عناصر الواجهة الأساسية"},{"name":"severity","value":"critical"}],"links":[],"name":"TC-14 | Verify that clicking the export button downloads the search results (NGrams)","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","description":"    Test Objective:\n    Ensure that after running a valid search in the NGrams tool, clicking the export icon\n    downloads the results file locally (e.g., XLSX), with network triage watching for export errors.\n\n    Steps:\n    1) Open the NGrams tool page.\n    2) Enter a minimal valid filter to get results (e.g., Ends With = 'السيارة').\n    3) Click Search and wait for: table/no-data/network error (triage).\n    4) If results exist, wait for the export icon to appear and click it.\n    5) Assert that a file is downloaded (size > 0). Also fail if export network call errors.\n","steps":[{"name":"\uD83C\uDF10 Retrieved URL for [baseUrl]: https://falak.ksaa.gov.sa/","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096840592,"stop":1756096840592},{"name":"\uD83D\uDD17 Built tool URL: https://falak.ksaa.gov.sa/ngrams/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096840592,"stop":1756096840592},{"name":"✅ Opened direct tool URL: https://falak.ksaa.gov.sa/ngrams/babe4d42-221a-4fc1-8ce9-03bd3fa92dc1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096841584,"stop":1756096841584},{"name":"✅ Tool loading API responded: 200","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842002,"stop":1756096842002},{"name":"\uD83D\uDCE5 Page fully ready for interaction","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842002,"stop":1756096842002},{"name":"\uD83D\uDCE5 Page loaded successfully","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842002,"stop":1756096842002},{"name":"\uD83D\uDD24 Set 'Ends With' filter: السيارة","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842150,"stop":1756096842150},{"name":"✅ Triage events cleared","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842150,"stop":1756096842150},{"name":"✅ Armed with 1 URL regex filter(s)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842150,"stop":1756096842150},{"name":"\uD83E\uDDED Scrolled to element: [[ChromeDriver: chrome on windows (e76b294dbe25823d280e86e1e816b6f1)] -> xpath: //button[@type='submit' and .//span[normalize-space()='بحث']]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842239,"stop":1756096842239},{"name":"✅ Clicked on element using JavaScript: By.xpath: //button[@type='submit' and .//span[normalize-space()='بحث']]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842282,"stop":1756096842282},{"name":"\uD83D\uDD0E Clicked on search button","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842282,"stop":1756096842282},{"name":"ℹ️ No error events recorded","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096842283,"stop":1756096842283},{"name":"ℹ️ No error events recorded","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873066,"stop":1756096873066},{"name":"\uD83D\uDCCA Results table appeared","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873097,"stop":1756096873097},{"name":"\uD83E\uDDE9 DevTools session created","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873144,"stop":1756096873144},{"name":"\uD83D\uDCC2 Download behavior set to ALLOW with eventsEnabled=true, dir=C:\\Users\\MWDH\\Downloads","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873144,"stop":1756096873144},{"name":"\uD83E\uDDED Scrolled to element: [[ChromeDriver: chrome on windows (e76b294dbe25823d280e86e1e816b6f1)] -> xpath: //div[contains(@class,'grid')] //button[@ptooltip='تصدير' and .//img[contains(@src,'icon-export')]]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873193,"stop":1756096873193},{"name":"✅ Clicked on element: By.xpath: //div[contains(@class,'grid')] //button[@ptooltip='تصدير' and .//img[contains(@src,'icon-export')]]","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873270,"stop":1756096873270},{"name":"\uD83D\uDCE5 Clicked export button","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096873270,"stop":1756096873270},{"name":"ℹ️ No error events recorded","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096874780,"stop":1756096874780},{"name":"✅ Exported file downloaded successfully","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096874780,"stop":1756096874780},{"name":"✅ Exported file downloaded successfully","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096874780,"stop":1756096874780},{"name":"\uD83D\uDCE5 تم تحميل ملف الإعدادات بنجاح من config.properties","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1756096874792,"stop":1756096874792}],"attachments":[{"name":"خطأ في BasePage - waitForElement","source":"b726da09-19db-4eda-801a-3d40a50b11dc-attachment.txt","type":"text/plain"}],"parameters":[],"start":1756096840592,"stop":1756096874792}